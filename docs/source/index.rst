ç‰ˆæœ¬: |release|; Githubåœ°å€: https://github.com/namoshizun/TradePy; Giteeé•œåƒ: `dilu3100/TradePy <https://gitee.com/dilu3100/TradePy>`_


ç®€ä»‹
-------------------
TradePyæ˜¯ä¸€ä¸ªé¢å‘è¯åˆ¸äº¤æ˜“çš„é‡åŒ–ç­–ç•¥å¼€å‘ + å®ç›˜äº¤æ˜“æ¡†æ¶ï¼Œå®ç°äº†å¦‚ä¸‹åŠŸèƒ½:

* **æ•°æ®ä¸‹è½½**

  * é€šè¿‡ `Akshare <https://github.com/akfamily/akshare/>`_ ä¸‹è½½Aè‚¡è‚¡ç¥¨ã€ETFå’Œå®½åŸºæŒ‡æ•°çš„æ—¥Kï¼Œä»¥åŠåå¤æƒå› å­ã€è§£ç¦æ—¥æœŸç­‰æ•°æ®
  * é€šè¿‡ `XtQuant <http://docs.thinktrader.net/pages/4a989a>`_ ä¸‹è½½æ—¥å†…1åˆ†é’ŸKçº¿ã€‚
  * æ•°æ®ä¸‹è½½ä¸ºæœ¬åœ°CSVæˆ–Pickleæ–‡ä»¶ï¼Œä¸éœ€è¦å®‰è£…æ•°æ®åº“ï¼Œä¸‹è½½åå³å¯ç¦»çº¿ä½¿ç”¨


* **ç­–ç•¥å®ç°**: æä¾›å£°æ˜å¼APIä»¥å¿«é€Ÿå®ç°ç­–ç•¥é€»è¾‘ï¼Œå†…ç½®å¤šç§å¸¸ç”¨æŒ‡æ ‡ï¼Œä½¿ç”¨ `Numba <https://numba.pydata.org/>`_ åŠ é€Ÿè€—æ—¶æ“ä½œ.

* **ç­–ç•¥å›æµ‹**: æ—¥Kçº§åˆ«çš„äº¤æ˜“å›æµ‹ï¼Œå¹¶ç”Ÿæˆå›æµ‹æŠ¥å‘Šã€‚å¯ç”¨åˆ†é’ŸKçº¿åšæ—¥å†…èµ°åŠ¿å›æµ‹ã€‚

  * å¯è®¾ç½® æ¯æ—¥æœ€å¤§å¼€ä»“æ•°é‡ã€æœ€ä½å¼€ä»“é‡‘é¢ã€ä¸ªè‚¡æœ€å¤§ä»“ä½
  * è®¡ç®—åå¤æƒè‚¡ä»·ï¼Œæ”¯æŒå¤šç§æ»‘ç‚¹è®¾ç½®
  * å¯å¹¶è¡Œè·‘å¤šè½®å›æµ‹ï¼Œè§‚å¯Ÿç­–ç•¥è¡¨ç°çš„ç»Ÿè®¡ç‰¹å¾.

* **å¯»å‚ä¼˜åŒ–**: åŸºäºç½‘æ ¼æœç´¢çš„å‚æ•°å¯»ä¼˜ï¼Œå¹¶ä½¿ç”¨ `Dask Distributed <https://distributed.dask.org/>`_ åšå¹¶è¡ŒåŒ–ã€‚æœªæ¥å°†é›†æˆæ›´æ™ºèƒ½çš„å¯»å‚ç®—æ³•ï¼Œå½“å‰ä¹Ÿæ”¯æŒä½¿ç”¨è‡ªå®šä¹‰çš„å¯»å‚ç®—æ³•ã€‚

* **å®ç›˜äº¤æ˜“**: é€šè¿‡ `XtQuant <http://docs.thinktrader.net/pages/4a989a>`_ æ‰§è¡Œå®ç›˜äº¤æ˜“ï¼Œå¹¶è‡ªè¡Œç»Ÿè®¡å½“æ—¥æŒä»“å’Œè´¦æˆ·ä½™é¢ç­‰ä¿¡æ¯ï¼Œä»¥è§„é¿QMTç»ˆç«¯çš„è¯¸å¤šæ•°æ®åé¦ˆä¸åŠæ—¶é—®é¢˜ã€‚

  * æ¯æ—¥è‡ªåŠ¨æ›´æ–°æ—¥Kæ•°æ®ã€‚
  * æ”¯æŒè®¾ç½®å§”æ‰˜å•è¿‡æœŸæ—¶é—´ï¼Œè¶…æ—¶ä¸æˆäº¤ä¸”ä¸åœ¨å½“å‰ä¹°ä¸€ä»·ï¼Œå¯è‡ªåŠ¨æ’¤å•.
  * æ”¯æŒå¾®ä¿¡æ¨é€äº¤æ˜“è¡Œä¸ºå’Œå¼‚å¸¸çŠ¶æ€ ï¼ˆğŸš§æ–½å·¥ä¸­ï¼‰

* **å®ç›˜/å›æµ‹å¯¹æ¯”**: è¯»å–å®ç›˜çš„äº¤å‰²å•PDFï¼Œå¹¶ä¸åŒæœŸçš„å›æµ‹ç»“æœè¿›è¡Œæ¯”å¯¹ï¼Œä»¥éªŒè¯å›æµ‹ç»“æœçš„å¯ä¿¡åº¦ï¼ˆğŸš§æ–½å·¥ä¸­ï¼‰ã€‚


ç¤ºä¾‹
-------------------

ä»¥ä¸‹å³å®ç°äº†ä¸€ä¸ªåŸºäº10å‡ä¸30å‡çš„é‡‘å‰ä¹°å…¥ã€æ­»å‰å–å‡ºç­–ç•¥ï¼Œå¹¶è¿‡æ»¤STè‚¡ã€‚å°†çˆ¶ç±»æ”¹ä¸º ``tradepy.strategy.base.LiveStrategy`` å³å¯ç›´æ¥ç”¨åˆ°å®ç›˜äº¤æ˜“ä¸­ã€‚


.. code-block:: python

    from tradepy.strategy.factors import FactorsMixin
    from tradepy.strategy.base import BacktestStrategy
    from tradepy.decorators import tag

    class MovingAverageCrossoverStrategy(BacktestStrategy, FactorsMixin):

        @tag(outputs=["sma10_ref1", "sma30_ref1"], notna=True)
        def moving_averages_ref1(self, sma10, sma30):
            return sma10.shift(1), sma30.shift(1)

        def should_buy(self, sma10, sma30,
                       sma10_ref1, sma30_ref1,
                       close, company):
            if "ST" not in company:
                if (sma10_ref1 < sma30_ref1) and (sma10 > sma30):
                    return close, 1

        def should_sell(self, sma10, sma30, sma10_ref1, sma30_ref1):
            return (sma10_ref1 > sma30_ref1) and (sma10 < sma30)


å®‰è£…
-------------------

**Linuxæˆ–MacOSç³»ç»Ÿ**

1. å®‰è£…Python3.10æˆ–3.11ã€‚æ¨èä½¿ç”¨æ€§èƒ½æ›´ä½³çš„3.11
2. å®‰è£…TA-Lib

   - Linuxç³»ç»Ÿ: å‚è€ƒæ­¤ `æ•™ç¨‹ <https://cloudstrata.io/install-ta-lib-on-ubuntu-server/>`_
   - MacOSç³»ç»Ÿ: ``brew install ta-lib``

3. å®‰è£…å¹¶åˆå§‹åŒ–TradePy

.. parsed-literal::

   # è·å–ä»£ç 
   # æ³¨: å¦‚æœç½‘ç»œé”™è¯¯ï¼Œä¹Ÿå¯ä»¥ä»é•œåƒåº“å…‹éš† https://gitee.com/dilu3100/TradePy.git
   git clone https://github.com/namoshizun/TradePy.git

   # å®‰è£…TradePy
   cd TradePy
   pip install .

   # åˆå§‹åŒ–TradePy, è¿è¡Œæ¨¡å¼è¾“å…¥"backtest"
   python -m tradepy.cli.bootstrap


**Windowsç³»ç»Ÿ**

1. å®‰è£…Python3.10æˆ–3.11
2. å®‰è£…TA-Lib: ä» `æ­¤å¤„ <https://github.com/cgohlke/talib-build/releases/tag/v0.4.26>`_ ä¸‹è½½å¹¶å®‰è£…å¯¹åº”æ‚¨çš„Pythonç‰ˆæœ¬çš„TA-Lib Wheelæ–‡ä»¶ã€‚ä¾‹å¦‚: Win10 64ä½ç³»ç»Ÿï¼ŒPython 3.10ç‰ˆæœ¬ï¼ŒIntel CPUï¼Œåº”ä¸‹è½½ ``TA_Lib-0.4.26-cp310-cp310-win_amd64.whl`` ã€‚ç„¶åè¿è¡Œ ``pip install TA_Lib-0.4.26-cp310-cp310-win_amd64.whl``ã€‚
3. å®‰è£…å’Œåˆå§‹åŒ–TradePyï¼Œæ­¥éª¤å¦‚ä¸Š


ç´¢å¼•
-------------------
.. toctree::
   :maxdepth: 2

   quickstart
   strategy
   optimization
   trading
   minute-k
   multi-backtest-runs
   configurations
